name: GitHub Classroom Workflow

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]

permissions:
  checks: write
  actions: read
  contents: read

jobs:
  build:
    name: Autograding
    runs-on: ubuntu-latest
    if: github.actor != 'github-classroom[bot]'

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up JDK 17
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
          cache: 'maven'

      - name: Cache Maven packages
        uses: actions/cache@v3
        with:
          path: ~/.m2
          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
          restore-keys: ${{ runner.os }}-m2

      - name: Run autograding
        uses: education/autograding@v1
        id: autograding
        continue-on-error: true

      - name: Generate detailed report
        if: always()
        run: |
          echo ""
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ                                                                            โ"
          echo "โ     ๐ฟ๏ธ  SISTEMA DE PARQUEADERO ESTACIONAFรCIL - REPORTE DE EVALUACIรN     โ"
          echo "โ                                                                            โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo ""

          # Variables para acumular puntos
          PUNTOS_COMPILACION=0
          PUNTOS_REQ1=0
          PUNTOS_REQ2=0
          PUNTOS_REQ3=0
          PUNTOS_REQ4=0
          PUNTOS_INTEGRACION=0

          # Mรกximos por categorรญa
          MAX_COMPILACION=5
          MAX_REQ1=14
          MAX_REQ2=14
          MAX_REQ3=67
          MAX_REQ4=30
          MAX_INTEGRACION=10
          MAX_TOTAL=140

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ ๐ COMPILACIรN DEL PROYECTO                                                 โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

          if mvn clean compile -q 2>/dev/null; then
            echo "   โ Compilaciรณn exitosa                                            +5 pts"
            PUNTOS_COMPILACION=5
          else
            echo "   โ Error de compilaciรณn                                            0 pts"
          fi
          echo ""

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ ๐ REQUERIMIENTO 1: Registrar Cliente                          (mรกx 14 pts) โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

          # REQ1: Constructor Propietario (5 pts)
          if mvn test -Dtest=PropietarioTest#testConstructor* -q 2>/dev/null; then
            echo "   โ Constructor Propietario(cedula, nombre)                        +5 pts"
            PUNTOS_REQ1=$((PUNTOS_REQ1 + 5))
          else
            echo "   โ Constructor Propietario(cedula, nombre)                         0 pts"
          fi

          # REQ1: buscarPropietario (4 pts)
          if mvn test -Dtest=ParqueaderoTest#testBuscarPropietario* -q 2>/dev/null; then
            echo "   โ buscarPropietario(cedula) [foreach]                             +4 pts"
            PUNTOS_REQ1=$((PUNTOS_REQ1 + 4))
          else
            echo "   โ buscarPropietario(cedula) [foreach]                              0 pts"
          fi

          # REQ1: registrarPropietario (5 pts)
          if mvn test -Dtest=ParqueaderoTest#testRegistrarPropietario* -q 2>/dev/null; then
            echo "   โ registrarPropietario(cedula, nombre) [if validaciรณn]           +5 pts"
            PUNTOS_REQ1=$((PUNTOS_REQ1 + 5))
          else
            echo "   โ registrarPropietario(cedula, nombre) [if validaciรณn]            0 pts"
          fi

          echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "   ๐ Subtotal REQ1: $PUNTOS_REQ1 / $MAX_REQ1 pts"
          echo ""

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ ๐ REQUERIMIENTO 2: Registrar Vehรญculo                         (mรกx 14 pts) โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

          # REQ2: Constructor Vehiculo (5 pts)
          if mvn test -Dtest=VehiculoTest#testConstructor* -q 2>/dev/null; then
            echo "   โ Constructor Vehiculo(placa, modelo, color, prop, tipo)         +5 pts"
            PUNTOS_REQ2=$((PUNTOS_REQ2 + 5))
          else
            echo "   โ Constructor Vehiculo(placa, modelo, color, prop, tipo)          0 pts"
          fi

          # REQ2: buscarVehiculo (4 pts)
          if mvn test -Dtest=ParqueaderoTest#testBuscarVehiculo* -q 2>/dev/null; then
            echo "   โ buscarVehiculo(placa) [foreach]                                 +4 pts"
            PUNTOS_REQ2=$((PUNTOS_REQ2 + 4))
          else
            echo "   โ buscarVehiculo(placa) [foreach]                                  0 pts"
          fi

          # REQ2: registrarVehiculo (5 pts)
          if mvn test -Dtest=ParqueaderoTest#testRegistrarVehiculo* -q 2>/dev/null; then
            echo "   โ registrarVehiculo(...) [if validaciรณn]                         +5 pts"
            PUNTOS_REQ2=$((PUNTOS_REQ2 + 5))
          else
            echo "   โ registrarVehiculo(...) [if validaciรณn]                          0 pts"
          fi

          echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "   ๐ Subtotal REQ2: $PUNTOS_REQ2 / $MAX_REQ2 pts"
          echo ""

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ ๐ซ REQUERIMIENTO 3: Registrar Servicio                         (mรกx 67 pts) โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo ""
          echo "   ๐ Paso 3.1: Lรณgica de categorรญas y descuentos"

          # REQ3: acumularHoras (5 pts)
          if mvn test -Dtest=PropietarioTest#testAcumularHoras* -q 2>/dev/null; then
            echo "   โ acumularHoras(horas)                                            +5 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 5))
          else
            echo "   โ acumularHoras(horas)                                             0 pts"
          fi

          # REQ3: obtenerCategoria (10 pts)
          if mvn test -Dtest=PropietarioTest#testObtenerCategoria* -q 2>/dev/null; then
            echo "   โ obtenerCategoria() [if-else mรบltiple]                          +10 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 10))
          else
            echo "   โ obtenerCategoria() [if-else mรบltiple]                            0 pts"
          fi

          # REQ3: obtenerDescuento (8 pts)
          if mvn test -Dtest=PropietarioTest#testObtenerDescuento* -q 2>/dev/null; then
            echo "   โ obtenerDescuento() [switch]                                     +8 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 8))
          else
            echo "   โ obtenerDescuento() [switch]                                      0 pts"
          fi

          echo ""
          echo "   ๐ Paso 3.2: Tarifa del Vehรญculo"

          # REQ3: obtenerTarifaHora (7 pts)
          if mvn test -Dtest=VehiculoTest#testObtenerTarifaHora* -q 2>/dev/null; then
            echo "   โ obtenerTarifaHora() [switch]                                    +7 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 7))
          else
            echo "   โ obtenerTarifaHora() [switch]                                     0 pts"
          fi

          echo ""
          echo "   ๐ Paso 3.3: Cรกlculo del Servicio"

          # REQ3: calcularHoras (5 pts)
          if mvn test -Dtest=ServicioTest#testCalcularHoras* -q 2>/dev/null; then
            echo "   โ calcularHoras()                                                 +5 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 5))
          else
            echo "   โ calcularHoras()                                                  0 pts"
          fi

          # REQ3: calcularCosto (10 pts)
          if mvn test -Dtest=ServicioTest#testCalcularCosto* -q 2>/dev/null; then
            echo "   โ calcularCosto() [fรณrmula compleja]                             +10 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 10))
          else
            echo "   โ calcularCosto() [fรณrmula compleja]                               0 pts"
          fi

          # REQ3: Constructor Servicio (5 pts)
          if mvn test -Dtest=ServicioTest#testGetters* -q 2>/dev/null; then
            echo "   โ Constructor Servicio(horaIngreso, horaSalida, vehiculo)        +5 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 5))
          else
            echo "   โ Constructor Servicio(horaIngreso, horaSalida, vehiculo)         0 pts"
          fi

          echo ""
          echo "   ๐ Paso 3.4: Orquestaciรณn en Parqueadero"

          # REQ3: acumularHorasCliente (5 pts)
          if mvn test -Dtest=ParqueaderoTest#testAcumularHorasCliente* -q 2>/dev/null; then
            echo "   โ acumularHorasCliente(cedula, horas) [delegaciรณn]               +5 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 5))
          else
            echo "   โ acumularHorasCliente(cedula, horas) [delegaciรณn]                0 pts"
          fi

          # REQ3: registrarServicio (12 pts)
          if mvn test -Dtest=ParqueaderoTest#testRegistrarServicio* -q 2>/dev/null; then
            echo "   โ registrarServicio(placa, horaIng, horaSal) [if mรบltiples]     +12 pts"
            PUNTOS_REQ3=$((PUNTOS_REQ3 + 12))
          else
            echo "   โ registrarServicio(placa, horaIng, horaSal) [if mรบltiples]       0 pts"
          fi

          echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "   ๐ Subtotal REQ3: $PUNTOS_REQ3 / $MAX_REQ3 pts"
          echo ""

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ ๐ REQUERIMIENTO 4: Calcular Estadรญsticas                      (mรกx 30 pts) โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo ""
          echo "   ๐ 4a) Total Recaudado"

          # REQ4: calcularTotalRecaudado (8 pts)
          if mvn test -Dtest=ParqueaderoTest#testCalcularTotalRecaudado* -q 2>/dev/null; then
            echo "   โ calcularTotalRecaudado() [foreach acumulador]                  +8 pts"
            PUNTOS_REQ4=$((PUNTOS_REQ4 + 8))
          else
            echo "   โ calcularTotalRecaudado() [foreach acumulador]                   0 pts"
          fi

          echo ""
          echo "   ๐ 4b) Nรบmero de Clientes VIP"

          # REQ4: esVIP (5 pts)
          if mvn test -Dtest=PropietarioTest#testEsVIP* -q 2>/dev/null; then
            echo "   โ esVIP() [if simple]                                            +5 pts"
            PUNTOS_REQ4=$((PUNTOS_REQ4 + 5))
          else
            echo "   โ esVIP() [if simple]                                             0 pts"
          fi

          # REQ4: contarClientesVIP (7 pts)
          if mvn test -Dtest=ParqueaderoTest#testContarClientesVIP* -q 2>/dev/null; then
            echo "   โ contarClientesVIP() [foreach contador + if]                    +7 pts"
            PUNTOS_REQ4=$((PUNTOS_REQ4 + 7))
          else
            echo "   โ contarClientesVIP() [foreach contador + if]                     0 pts"
          fi

          echo ""
          echo "   ๐ 4c) Cliente con Mรกs Horas"

          # REQ4: obtenerClienteMasHoras (10 pts)
          if mvn test -Dtest=ParqueaderoTest#testObtenerClienteMasHoras* -q 2>/dev/null; then
            echo "   โ obtenerClienteMasHoras() [foreach mรกximo]                     +10 pts"
            PUNTOS_REQ4=$((PUNTOS_REQ4 + 10))
          else
            echo "   โ obtenerClienteMasHoras() [foreach mรกximo]                       0 pts"
          fi

          echo "   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "   ๐ Subtotal REQ4: $PUNTOS_REQ4 / $MAX_REQ4 pts"
          echo ""

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ ๐ INTEGRACIรN: Todos los tests pasan                          (mรกx 10 pts) โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

          if mvn clean test -q 2>/dev/null; then
            echo "   โ Todos los tests pasan correctamente                           +10 pts"
            PUNTOS_INTEGRACION=10
          else
            echo "   โ Algunos tests fallaron                                          0 pts"
          fi
          echo ""

          # Calcular totales
          TOTAL_PUNTOS=$((PUNTOS_COMPILACION + PUNTOS_REQ1 + PUNTOS_REQ2 + PUNTOS_REQ3 + PUNTOS_REQ4 + PUNTOS_INTEGRACION))

          # Calcular nota (usando bc para decimales)
          NOTA=$(echo "scale=2; ($TOTAL_PUNTOS / $MAX_TOTAL) * 5" | bc)

          # Determinar estado
          if [ $(echo "$NOTA >= 3.0" | bc -l) -eq 1 ]; then
            ESTADO="โ APROBADO"
            EMOJI="๐"
          else
            ESTADO="โ REPROBADO"
            EMOJI="๐"
          fi

          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ                         ๐ RESUMEN DE CALIFICACIรN                         โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ"
          echo "โ                                                                            โ"
          printf "โ   ๐ง Compilaciรณn:                              %3d / %3d pts    (%3d%%)    โ\n" $PUNTOS_COMPILACION $MAX_COMPILACION $((PUNTOS_COMPILACION * 100 / MAX_COMPILACION))
          printf "โ   ๐ REQ1 - Registrar Cliente:                 %3d / %3d pts    (%3d%%)    โ\n" $PUNTOS_REQ1 $MAX_REQ1 $((PUNTOS_REQ1 * 100 / MAX_REQ1))
          printf "โ   ๐ REQ2 - Registrar Vehรญculo:                %3d / %3d pts    (%3d%%)    โ\n" $PUNTOS_REQ2 $MAX_REQ2 $((PUNTOS_REQ2 * 100 / MAX_REQ2))
          printf "โ   ๐ซ REQ3 - Registrar Servicio:                %3d / %3d pts    (%3d%%)    โ\n" $PUNTOS_REQ3 $MAX_REQ3 $((PUNTOS_REQ3 * 100 / MAX_REQ3))
          printf "โ   ๐ REQ4 - Estadรญsticas:                      %3d / %3d pts    (%3d%%)    โ\n" $PUNTOS_REQ4 $MAX_REQ4 $((PUNTOS_REQ4 * 100 / MAX_REQ4))
          printf "โ   ๐ Integraciรณn:                              %3d / %3d pts    (%3d%%)    โ\n" $PUNTOS_INTEGRACION $MAX_INTEGRACION $((PUNTOS_INTEGRACION * 100 / MAX_INTEGRACION))
          echo "โ                                                                            โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ"
          printf "โ                                                                            โ\n"
          printf "โ   ๐ TOTAL PUNTOS:                             %3d / %3d pts              โ\n" $TOTAL_PUNTOS $MAX_TOTAL
          printf "โ                                                                            โ\n"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ"
          echo "โ                                                                            โ"
          echo "โ                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                    โ"
          printf "โ                    โ     ๐ฏ NOTA FINAL:  %s / 5.0     โ                    โ\n" "$NOTA"
          echo "โ                    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                    โ"
          echo "โ                                                                            โ"
          printf "โ                           $ESTADO $EMOJI                              โ\n"
          echo "โ                                                                            โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo ""
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ                          ๐ BARRAS DE PROGRESO                              โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo ""

          # Funciรณn para generar barra de progreso
          generate_bar() {
            local current=$1
            local max=$2
            local width=30
            local filled=$((current * width / max))
            local empty=$((width - filled))
            printf "["
            for ((i=0; i<filled; i++)); do printf "โ"; done
            for ((i=0; i<empty; i++)); do printf "โ"; done
            printf "]"
          }

          printf "   Compilaciรณn:  "
          generate_bar $PUNTOS_COMPILACION $MAX_COMPILACION
          printf " %d%%\n" $((PUNTOS_COMPILACION * 100 / MAX_COMPILACION))

          printf "   REQ1:         "
          generate_bar $PUNTOS_REQ1 $MAX_REQ1
          printf " %d%%\n" $((PUNTOS_REQ1 * 100 / MAX_REQ1))

          printf "   REQ2:         "
          generate_bar $PUNTOS_REQ2 $MAX_REQ2
          printf " %d%%\n" $((PUNTOS_REQ2 * 100 / MAX_REQ2))

          printf "   REQ3:         "
          generate_bar $PUNTOS_REQ3 $MAX_REQ3
          printf " %d%%\n" $((PUNTOS_REQ3 * 100 / MAX_REQ3))

          printf "   REQ4:         "
          generate_bar $PUNTOS_REQ4 $MAX_REQ4
          printf " %d%%\n" $((PUNTOS_REQ4 * 100 / MAX_REQ4))

          printf "   Integraciรณn:  "
          generate_bar $PUNTOS_INTEGRACION $MAX_INTEGRACION
          printf " %d%%\n" $((PUNTOS_INTEGRACION * 100 / MAX_INTEGRACION))

          echo ""
          printf "   TOTAL:        "
          generate_bar $TOTAL_PUNTOS $MAX_TOTAL
          printf " %d%%\n" $((TOTAL_PUNTOS * 100 / MAX_TOTAL))

          echo ""
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "โ              Sistema de Parqueadero EstacionaFรกcil - EAM 2024              โ"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"

          # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
          # GITHUB JOB SUMMARY - Resumen visible en la interfaz de GitHub Actions
          # โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

          cat >> $GITHUB_STEP_SUMMARY << EOF

          # ๐ฟ๏ธ Sistema de Parqueadero EstacionaFรกcil - Reporte de Evaluaciรณn

          ## ๐ Resumen de Calificaciรณn

          | Categorรญa | Puntos | Mรกximo | Porcentaje |
          |-----------|--------|--------|------------|
          | ๐ง Compilaciรณn | $PUNTOS_COMPILACION | $MAX_COMPILACION | $((PUNTOS_COMPILACION * 100 / MAX_COMPILACION))% |
          | ๐ REQ1 - Registrar Cliente | $PUNTOS_REQ1 | $MAX_REQ1 | $((PUNTOS_REQ1 * 100 / MAX_REQ1))% |
          | ๐ REQ2 - Registrar Vehรญculo | $PUNTOS_REQ2 | $MAX_REQ2 | $((PUNTOS_REQ2 * 100 / MAX_REQ2))% |
          | ๐ซ REQ3 - Registrar Servicio | $PUNTOS_REQ3 | $MAX_REQ3 | $((PUNTOS_REQ3 * 100 / MAX_REQ3))% |
          | ๐ REQ4 - Estadรญsticas | $PUNTOS_REQ4 | $MAX_REQ4 | $((PUNTOS_REQ4 * 100 / MAX_REQ4))% |
          | ๐ Integraciรณn | $PUNTOS_INTEGRACION | $MAX_INTEGRACION | $((PUNTOS_INTEGRACION * 100 / MAX_INTEGRACION))% |
          | **๐ TOTAL** | **$TOTAL_PUNTOS** | **$MAX_TOTAL** | **$((TOTAL_PUNTOS * 100 / MAX_TOTAL))%** |

          ---

          ## ๐ฏ Nota Final

          <table>
          <tr>
          <td align="center">

          ### $NOTA / 5.0

          **$ESTADO** $EMOJI

          </td>
          </tr>
          </table>

          ---

          ## ๐ Progreso por Requerimiento

          \`\`\`
          Compilaciรณn:  $( printf '%*s' $((PUNTOS_COMPILACION * 20 / MAX_COMPILACION)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - PUNTOS_COMPILACION * 20 / MAX_COMPILACION)) '' | tr ' ' 'โ' ) $((PUNTOS_COMPILACION * 100 / MAX_COMPILACION))%
          REQ1:         $( printf '%*s' $((PUNTOS_REQ1 * 20 / MAX_REQ1)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - PUNTOS_REQ1 * 20 / MAX_REQ1)) '' | tr ' ' 'โ' ) $((PUNTOS_REQ1 * 100 / MAX_REQ1))%
          REQ2:         $( printf '%*s' $((PUNTOS_REQ2 * 20 / MAX_REQ2)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - PUNTOS_REQ2 * 20 / MAX_REQ2)) '' | tr ' ' 'โ' ) $((PUNTOS_REQ2 * 100 / MAX_REQ2))%
          REQ3:         $( printf '%*s' $((PUNTOS_REQ3 * 20 / MAX_REQ3)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - PUNTOS_REQ3 * 20 / MAX_REQ3)) '' | tr ' ' 'โ' ) $((PUNTOS_REQ3 * 100 / MAX_REQ3))%
          REQ4:         $( printf '%*s' $((PUNTOS_REQ4 * 20 / MAX_REQ4)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - PUNTOS_REQ4 * 20 / MAX_REQ4)) '' | tr ' ' 'โ' ) $((PUNTOS_REQ4 * 100 / MAX_REQ4))%
          Integraciรณn:  $( printf '%*s' $((PUNTOS_INTEGRACION * 20 / MAX_INTEGRACION)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - PUNTOS_INTEGRACION * 20 / MAX_INTEGRACION)) '' | tr ' ' 'โ' ) $((PUNTOS_INTEGRACION * 100 / MAX_INTEGRACION))%
          โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
          TOTAL:        $( printf '%*s' $((TOTAL_PUNTOS * 20 / MAX_TOTAL)) '' | tr ' ' 'โ' )$( printf '%*s' $((20 - TOTAL_PUNTOS * 20 / MAX_TOTAL)) '' | tr ' ' 'โ' ) $((TOTAL_PUNTOS * 100 / MAX_TOTAL))%
          \`\`\`

          ---

          <sub>Sistema de Parqueadero EstacionaFรกcil - EAM 2024</sub>

          EOF
